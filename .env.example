# ===========================================
# RUDIMENT CAMPAIGN MONITOR - API KEYS
# ===========================================
# Copy this file to .env and add your actual keys
# NEVER commit the .env file to git!

# ===========================================
# SLACK NOTIFICATIONS (Shared)
# ===========================================
# Get webhook URL from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL


# Optional: split digest destinations
# If set, digest mode will send two messages per client:
# - Internal ops digest -> SLACK_WEBHOOK_URL_INTERNAL
# - External client snapshot -> SLACK_WEBHOOK_URL_EXTERNAL
# If not set, both will fall back to SLACK_WEBHOOK_URL
#
# SLACK_WEBHOOK_URL_INTERNAL=https://hooks.slack.com/services/...
# SLACK_WEBHOOK_URL_EXTERNAL=https://hooks.slack.com/services/...
# ===========================================
# CLIENT API KEYS (Per Client, Per Platform)
# ===========================================

# Example Client 1 - Replace with actual client name
CLIENT1_INSTANTLY_KEY=your_client1_instantly_key
CLIENT1_HEYREACH_KEY=your_client1_heyreach_key
CLIENT1_HEYREACH_BEARER=your_client1_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT1_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT1_EMAILBISON_KEY=your_client1_emailbison_key
CLIENT1_CLAY_KEY=your_client1_clay_key

# Example Client 2
CLIENT2_INSTANTLY_KEY=your_client2_instantly_key
CLIENT2_HEYREACH_KEY=your_client2_heyreach_key
CLIENT2_HEYREACH_BEARER=your_client2_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT2_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT2_EMAILBISON_KEY=your_client2_emailbison_key

# Example Client 3
CLIENT3_INSTANTLY_KEY=your_client3_instantly_key
CLIENT3_HEYREACH_KEY=your_client3_heyreach_key
CLIENT3_HEYREACH_BEARER=your_client3_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT3_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT3_EMAILBISON_KEY=your_client3_emailbison_key

# Example Client 4
CLIENT4_INSTANTLY_KEY=your_client4_instantly_key
CLIENT4_HEYREACH_KEY=your_client4_heyreach_key
CLIENT4_HEYREACH_BEARER=your_client4_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT4_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT4_EMAILBISON_KEY=your_client4_emailbison_key

# Example Client 5 - Hotman Group
CLIENT5_INSTANTLY_KEY=your_client5_instantly_key
CLIENT5_HEYREACH_KEY=your_client5_heyreach_key
CLIENT5_HEYREACH_BEARER=your_client5_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT5_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT5_EMAILBISON_KEY=your_client5_emailbison_key
CLIENT5_CLAY_KEY=your_client5_clay_key

# Example Client 6 - Labl
CLIENT6_INSTANTLY_KEY=your_client6_instantly_key
CLIENT6_HEYREACH_KEY=your_client6_heyreach_key
CLIENT6_HEYREACH_BEARER=your_client6_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT6_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT6_EMAILBISON_KEY=your_client6_emailbison_key
CLIENT6_CLAY_KEY=your_client6_clay_key

# Example Client 7 - Spark Inventory
CLIENT7_INSTANTLY_KEY=your_client7_instantly_key
CLIENT7_HEYREACH_KEY=your_client7_heyreach_key
CLIENT7_HEYREACH_BEARER=your_client7_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT7_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT7_EMAILBISON_KEY=your_client7_emailbison_key
CLIENT7_CLAY_KEY=your_client7_clay_key

# Example Client 8 - RestorixHealth
CLIENT8_INSTANTLY_KEY=your_client8_instantly_key
CLIENT8_HEYREACH_KEY=your_client8_heyreach_key
CLIENT8_HEYREACH_BEARER=your_client8_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT8_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT8_EMAILBISON_KEY=your_client8_emailbison_key
CLIENT8_CLAY_KEY=your_client8_clay_key

# Example Client 9 - Workskiff
CLIENT9_INSTANTLY_KEY=your_client9_instantly_key
CLIENT9_HEYREACH_KEY=your_client9_heyreach_key
CLIENT9_HEYREACH_BEARER=your_client9_heyreach_bearer_token  # optional (legacy webapp token)
CLIENT9_HEYREACH_ORG_UNITS=comma_separated_org_unit_ids      # optional (legacy)
CLIENT9_EMAILBISON_KEY=your_client9_emailbison_key
CLIENT9_CLAY_KEY=your_client9_clay_key

# ===========================================
# CLAY PIPELINE ATTRIBUTION (Webhook Receiver)
# ===========================================
# This is NOT the Clay API key.
# Generate a long random string and configure Clay HTTP action to send:
#   Header: x-clay-secret: <this value>
CLAY_WEBHOOK_SECRET=your_random_webhook_secret

# Optional: if set, the server will store Clay attribution in DynamoDB (recommended for App Runner autoscaling)
# DynamoDB table must exist with partition key (string): pk
# Example pk value: "client2#person@company.com"
#
# CLAY_ATTRIBUTION_DDB_TABLE=rudiment_clay_attribution

# Optional: override local persistence path.
# Default: ./tmp/clay-attribution.json
# CLAY_ATTRIBUTION_STORE_PATH=/absolute/path/or/relative/path.json

# Add more clients as needed...
# CLIENT3_INSTANTLY_KEY=xxx
# CLIENT3_HEYREACH_KEY=xxx

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
#
# Slack notifications mode:
# - immediate: one Slack message per alert (current behavior)
# - digest: one Slack message per client with grouped alerts (daily report style)
SLACK_NOTIFICATIONS_MODE=immediate

CHECK_INTERVAL_HOURS=4
NODE_ENV=development

# Dashboard: lifetime start date (default 2023-01-01)
# DASHBOARD_LIFETIME_START=2023-01-01

# Dashboard: HeyReach per-campaign stats cache tuning
# HEYREACH_STATS_CACHE_SECONDS=900
# HEYREACH_STATS_MIN_INTERVAL_SECONDS=15
# HEYREACH_STATS_CONCURRENCY=1
# HEYREACH_STATS_DELAY_MS=250

# ===========================================
# ASANA (Optional) — for including weekly delivery summary in digests
# ===========================================
# Required if you want Asana tasks included in digests:
# ASANA_TOKEN=<your asana personal access token>
# ASANA_WORKSPACE_GID=1208903094346882
# ASANA_PROJECT_GID_GTM_ENGINEER=1211736422165604
# ASANA_ACCOUNT_CUSTOM_FIELD_GID=1212725385970121
#
# Notes:
# - “Completed last 7 days” is computed from completed_at.
# - “Planned this week” is computed from due_on (Mon–Sun).

# Optional: Interested-rate success threshold (Interested/Replied %)
# Defaults in code to 20
# EXCELLENT_INTERESTED_RATE=20

# ===========================================
# INSTRUCTIONS:
# ===========================================
# 1. Copy this file: cp .env.example .env
# 2. Replace placeholder values with your actual API keys
# 3. Add keys for all 13 clients following the pattern above
# 4. Test with one client first, then add others
